<mat-form-field appearance="{{ appearance }}" fxFlex [style.fontSize.px]=12 [ngClass]="{'hasLookup': hasLookup}">
  <mat-label>{{label}}</mat-label>
  <input
    matInput
    #inputElement
    [value]="value"
    [type]="type"
    [id]="id"
    [placeholder]="placeholder"
    [readonly]="readonly"
    (change)="onChange($event)"
    (keyup)="onKeyup($event)"
    (blur)="onBlur($event)"
    >

    <mat-select #lookupElement *ngIf="hasLookup"
      (selectionChange)="onLookupSelect($event)"
      disableOptionCentering >
      <mat-option *ngFor="let record of lookupRows | async" [value]="getLookupValue(record)">
        {{getLookupDisplay(record)}}
      </mat-option>
    </mat-select>
    <span class="material-icons lookupDropDawn" [ngClass]="{'loading': lookupIsLoading}"
      *ngIf="hasLookup"
      (click)="onLookupOpen()"
      style="cursor: pointer;">
      arrow_drop_down
    </span>
</mat-form-field>

<sit-refresh-button *ngIf="showRefreshButton" tooltip="Odśwież"></sit-refresh-button>

